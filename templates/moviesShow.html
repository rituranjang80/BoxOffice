{% extends 'base.html' %}

{% block title %}
<title>BoxOffice | {{movies.movie_name}}</title>
{% endblock %}

{% block style %}
<style>
    .bg {
        background: linear-gradient(to right, rgba(138, 181, 206, 0), #000),
        url({{movies.movie_poster.url}});
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
        width: 100%;
        height: 100vh;
    }

    .bl {
        background: black;
    }

    .right-c {
        margin-top: 150px;
        color: #fff;
    }

    .pillow {
        background: rgba(0, 0, 0, 0.13);
        border-radius: 50px;
        color: white;
        border: solid 1px whitesmoke;
        padding: 5px 10px;
        text-align: center;
        width: 60%;
    }

    .title {
        font-size: 50px;
        padding: 10px 0px;
    }

    .rate {
        margin: 10px 0px;
        margin-left: 30px;
    }

    .rate i {
        text-shadow: 0 0 5px white;
        color: red;
    }

    .desc {
        margin: 5px 50px 5px 5px;
    }

    .btn-custom {
        background: linear-gradient(320deg, blue, red);
        color: #fff;
        border: none;
        border-radius: 10px;
        width: 230px;
        margin: 5px;
    }

    .btn-custom i {
        padding: 0px 5px;
    }

    .btn-custom:hover {
        color: #fff;
        border: solid 2px white;
        background: transparent;
    }

    .time {
        margin: 5px;
        display: inline;
    }
</style>

{% endblock %}

{% block content %}

<link href="http://vjs.zencdn.net/7.0/video-js.min.css" rel="stylesheet">
  <script src="http://vjs.zencdn.net/7.0/video.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/videojs-seek-buttons/dist/videojs-seek-buttons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/videojs-seek-buttons/dist/videojs-seek-buttons.min.js"></script>


<div class="container-fluid">
    


    <source src="//d2zihajmogu5jn.cloudfront.net/elephantsdream/ed_hd.mp4" type="video/mp4">
    <source src="//d2zihajmogu5jn.cloudfront.net/elephantsdream/ed_hd.ogg" type="video/ogg">
    
    <video id="example_video_1" class="video-js" controls preload="none" width="640" height="360"
    data-setup='{ "html5" : { "nativeTextTracks" : true } }'
    >
    
    <track kind="captions" src="captions.en.vtt" srclang="en" label="English" default>
    <track kind="captions" src="captions.sv.vtt" srclang="sv" label="Swedish">
    <track kind="captions" src="captions.ru.vtt" srclang="ru" label="Russian">
    <track kind="captions" src="captions.ja.vtt" srclang="ja" label="Japanese">
    <track kind="captions" src="captions.ar.vtt" srclang="ar" label="Arabic">
    
    <track kind="descriptions" src="descriptions.en.vtt" srclang="en" label="English">
    
    <track kind="chapters" src="chapters.en.vtt" srclang="en" label="English">
    
    <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
    </video>
    
  
    <a onclick="parent.abc();" href="#">Click Me</a>
    
    
    <script>
    
    
    window.parent.postMessage({
    'func': 'parentFunc',
    'message': 'Message text from iframe.'
    }, "*");
    
    window.myFunction = function(args) {
    // alert(args);
    let videofile='http://127.0.0.1:8000/{{movies.movieURL}}';//http://127.0.0.1:8000/static/Vforward/videofileText.mp4';
    
    // args=videofile;
    var picsrc=videofile //args;//getCook('srcmp4');//getParamValue('id');
    
    
    if(picsrc){
    var player = videojs('example_video_1');
    
    
    player.src({
    type: 'video/mp4',
    src: picsrc
    });
    
    player.src(picsrc);
    // set src track corresponding to new movie //
    player.load();
    player.play();
    
    player.seekButtons({
    forward: 30,
    back: 10
    });
    };
    // player.cache_.sources[0].src=picsrc;//"https://msstorageblob.blob.core.windows.net/processvideo/3085.webm?sv=2018-03-28&sr=b&sig=TWXkDR5e0NfaHS9gsVxoB6tK3oBkiOjApYwUPlGcqJE%3D&se=2024-06-28T16%3A29%3A09Z&sp=rcw";
    // player.cache_.sources[1].src=picsrc;//"https://msstorageblob.blob.core.windows.net/processvideo/3085.webm?sv=2018-03-28&sr=b&sig=TWXkDR5e0NfaHS9gsVxoB6tK3oBkiOjApYwUPlGcqJE%3D&se=2024-06-28T16%3A29%3A09Z&sp=rcw";
    
    }
    
    
    
    
    
    
    
    function getCook(cookiename) 
    {
    // Get name followed by anything except a semicolon
    var cookiestring=RegExp(cookiename+"=[^;]+").exec(document.cookie);
    // Return everything after the equal sign, or an empty string if the cookie name not found
    return decodeURIComponent(!!cookiestring ? cookiestring.toString().replace(/^[^=]+./,"") : "");
    }
    
    function getParamValue(paramName)
    {
    var url = window.location.search.substring(1); //get rid of "?" in querystring
    var qArray = url.split('&'); //get key-value pairs
    for (var i = 0; i < qArray.length; i++) 
    {
    var pArr = qArray[i].split('='); //split key and value
    if (pArr[0] == paramName) 
     return pArr[1]; //return value
    }
    }
    
    window.myFunction();
    </script>
    
    
    </div>



</div>
   
    {% endblock %}


    {% block JQuery %}

    <script>
        $('#btn-t').click(function () {
            $('#trailer').modal('toggle')
        });

        $('#btn-time').click(function () {
            $('#shows').modal('toggle')
        });
    </script>

    {% endblock %}